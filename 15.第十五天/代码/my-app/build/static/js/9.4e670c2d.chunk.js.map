{"version":3,"sources":["assets/images/avatar.png","pages/detail/detail.jsx"],"names":["module","exports","oSupport","sClass","Detail","props","fnGetHouseData","a","async","houseCode","match","params","axios","get","oRes","console","log","setState","oHouseData","data","body","BMap","window","map","Map","state","coord","longitude","latitude","point","Point","marker","Marker","addOverlay","centerAndZoom","houseImg","tags","oriented","supporting","this","title","price","roomType","size","floor","community","description","className","onClick","history","goBack","length","autoplay","infinite","val","i","key","href","style","display","width","height","src","BASE_URL","alt","verticalAlign","item","join","id","avatar","Component"],"mappings":"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","file":"static/js/9.4e670c2d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/avatar.8d902f27.png\";","import React, { Component } from 'react';\r\nimport './detail.css';\r\nimport { Carousel } from 'antd-mobile';\r\nimport { BASE_URL } from '../../utils';\r\nimport avatar from '../../assets/images/avatar.png'\r\n\r\nconst oSupport = {\r\n    '衣柜':{sClass:'iconfont icon-yigui'},\r\n    '洗衣机':{sClass:'iconfont icon-xiyiji'},\r\n    '空调':{sClass:'iconfont icon-kongtiao'},\r\n    '天然气':{sClass:'iconfont icon-tianranqi'},\r\n    '冰箱':{sClass:'iconfont icon-bingxiang'},\r\n    '电视':{sClass:'iconfont icon-dianshi'},\r\n    '热水器':{sClass:'iconfont icon-reshuiqi'},\r\n    '沙发':{sClass:'iconfont icon-shafa'},\r\n    '暖气':{sClass:'iconfont icon-nuanqi'},\r\n    '宽带':{sClass:'iconfont icon-_huabanfuben'},\r\n}\r\n\r\nclass Detail extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            oHouseData:{\r\n                houseImg:[],\r\n                tags:[],\r\n                oriented:[],\r\n                supporting:[]\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.fnGetHouseData();\r\n    }\r\n\r\n    fnGetHouseData=async ()=>{\r\n        let houseCode = this.props.match.params.houseCode;\r\n        let oRes = await this.axios.get('/houses/'+houseCode);\r\n        console.log(oRes);\r\n        this.setState({\r\n            oHouseData:oRes.data.body\r\n        },()=>{\r\n\r\n            let BMap = window.BMap;\r\n            let map = new BMap.Map(\"baidu_map\");\r\n            let { longitude,latitude } = this.state.oHouseData.coord;\r\n            var point = new BMap.Point(longitude, latitude);\r\n\r\n            // 在地图上加红色定位标记\r\n            let marker = new BMap.Marker(point);  // 创建标注\r\n\t        map.addOverlay(marker);\r\n            map.centerAndZoom(point, 15);\r\n        })\r\n    }\r\n\r\n    render() {\r\n        let {\r\n            houseImg,\r\n            title,\r\n            tags,\r\n            price,\r\n            roomType,\r\n            size,\r\n            floor,\r\n            oriented,\r\n            community,\r\n            supporting,\r\n            description\r\n        } = this.state.oHouseData;\r\n\r\n        return (\r\n            <div>\r\n                <span className=\"detail_back iconfont icon-prev\" onClick={ ()=>this.props.history.goBack() }></span>    \r\n                <div className=\"detail_slide_con\">\r\n                    {\r\n                        houseImg.length > 0 && <Carousel\r\n                        autoplay={true}\r\n                        infinite\r\n                        >\r\n                        {houseImg.map((val,i) => (\r\n                            <a\r\n                            key={ i }\r\n                            href=\"http://www.itcast.cn\"\r\n                            style={{ display: 'inline-block', width: '100%', height: '10.375rem' }}\r\n                            >\r\n                            <img\r\n                                src={BASE_URL + val}\r\n                                alt=\"\"\r\n                                style={{ width: '100%', verticalAlign: 'top' }}\r\n                            />\r\n                            </a>\r\n                        ))}\r\n                    </Carousel>\r\n                    }\r\n                </div>\r\n\r\n                <div className=\"detail_info\">\r\n                    <div className=\"detail_more\">\r\n                        <h3>{title}</h3>\r\n                        <div className=\"detail_tag\">\r\n                            {\r\n                                tags.map((item,i)=><span className={\"tag tag\"+i} key={i}>{item}</span>)\r\n                            }                          \r\n                          \r\n                        </div>\r\n                    </div>\r\n\r\n                    <ul className=\"detail_more more2\">\r\n                        <li>\r\n                            <span>{price}<em>/月</em></span>\r\n                            <b>租金</b>\r\n                        </li>\r\n                        <li>\r\n                            <span>{roomType}</span>\r\n                            <b>房型</b>\r\n                        </li>\r\n                        <li>\r\n                            <span>{size}平米</span>\r\n                            <b>面积</b>\r\n                        </li>\r\n                    </ul>\r\n                    <ul className=\"detail_more more3\">\r\n                        <li><em>装修：</em>精装</li>\r\n                        <li><em>楼层：</em>{floor}</li>\r\n                        <li><em>朝向：</em>{oriented.join(',')}</li>\r\n                        <li><em>类型：</em>普通住宅</li>\r\n                    </ul>\r\n                </div>\r\n\r\n                <div className=\"detail_info\">\r\n                    <h4 className=\"map_title\">{community}</h4>\r\n                    <div className=\"map_con\">\r\n                        <div id=\"baidu_map\" style={{'width':'100%','height':'100%'}}></div>\r\n                    </div>\r\n\r\n                    <h3 className=\"detail_common_title\">\r\n                        房屋配套\r\n                    </h3>\r\n                    <ul className=\"support_list\">\r\n                        {\r\n                            supporting.map((item,i)=>(\r\n                                <li key={i}>\r\n                                    <i className={ oSupport[item].sClass }></i>\r\n                                    <b>{item}</b>\r\n                                </li>\r\n                            ))\r\n                        }\r\n                        {\r\n                           supporting.length===0 && <div style={{'marginBottom':'10px'}}>暂无房屋配套信息</div> \r\n                        }                     \r\n                    </ul>\r\n                </div>\r\n\r\n                <div className=\"detail_info\">\r\n                    <h3 className=\"detail_common_title\">\r\n                        房屋概况\r\n                    </h3>\r\n                    <div className=\"landlord \">            \r\n                        <div className=\"lorder\">\r\n                            <img src={ avatar } alt=\"\" />\r\n                            <div className=\"lorder_name\">\r\n                                <b>王女士</b>\r\n                                <span><i className=\"iconfont icon-renzheng\"></i> <b>已认证房主</b></span>\r\n                            </div>\r\n                            \r\n                        </div>\r\n                        <span className=\"send_info\">发消息</span>\r\n                    </div>\r\n                    <p className=\"detail_text\">\r\n                        { description || '暂无房屋介绍' }\r\n                    </p>\r\n                </div>\r\n\r\n                <ul className=\"down_btns\">\r\n                    <li className=\"collect\"><i className=\"iconfont icon-shoucang\"></i> 收藏</li>  \r\n                    <li>在线咨询</li>  \r\n                    <li className=\"active\"><a href=\"tel:400-618-4000\">电话预约</a></li>  \r\n                </ul>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Detail;"],"sourceRoot":""}